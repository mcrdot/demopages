<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>demBlog ‚Äì Modern Blogging App</title>

  <!-- Quill (Rich Text Editor) -->
  <link href="https://cdn.quilljs.com/1.3.7/quill.snow.css" rel="stylesheet" />
  <script src="https://cdn.quilljs.com/1.3.7/quill.min.js"></script>

  <style>
    :root {
      --bg-primary: #111;
      --bg-card: #1e1e1e;
      --text-primary: #f5f5f5;
      --text-secondary: #aaa;
      --accent: #4a76d0;
      --border: #2c2c2c;
      --icon-color: #f5f5f5;
    }

    body.light {
      --bg-primary: #fafafa;
      --bg-card: #ffffff;
      --text-primary: #222;
      --text-secondary: #555;
      --accent: #4a76d0;
      --border: #e5e5e5;
      --icon-color: #222;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; font-family: "Segoe UI", sans-serif; }

    body {
      background-color: var(--bg-primary);
      color: var(--text-primary);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      transition: background-color 0.3s, color 0.3s;
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 20px;
      font-size: 1.2rem;
      font-weight: 600;
      border-bottom: 1px solid var(--border);
      position: sticky;
      top: 0;
      background-color: var(--bg-primary);
      z-index: 10;
    }

    main {
      flex: 1;
      overflow-y: auto;
      padding: 15px;
      display: flex;
      flex-direction: column;
      gap: 12px;
      transition: opacity 0.3s ease;
    }

    .card {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 15px;
      box-shadow: 0 1px 4px rgba(0, 0, 0, 0.2);
    }

    .card h3 { margin-bottom: 6px; }
    .card p { color: var(--text-secondary); }

    .btn {
      background: var(--accent);
      border: none;
      padding: 6px 14px;
      border-radius: 8px;
      color: #fff;
      cursor: pointer;
      font-size: 0.9rem;
      margin-top: 10px;
    }

    .btn:hover { opacity: 0.9; }

    /* Editor styling */
    #editor-wrapper {
      border: 1px solid var(--border);
      border-radius: 12px;
      background: var(--bg-card);
      overflow: hidden;
    }

    #toolbar-container {
      position: sticky;
      top: 0;
      background: var(--bg-card);
      z-index: 10;
      border-bottom: 1px solid var(--border);
    }

    .ql-toolbar { border: none !important; background: var(--bg-card); }
    .ql-container { border: none !important; background: var(--bg-card); color: var(--text-primary); min-height: 250px; }
    .ql-editor { color: var(--text-primary); }
    .ql-editor::before { color: #777 !important; }

    .editor-actions { margin-top: 10px; display: flex; gap: 10px; }

    #preview-container {
      background-color: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 12px;
      margin-top: 12px;
      display: none;
    }

    /* Bottom Navigation */
    .bottom-nav {
      position: fixed;
      bottom: 0;
      width: 100%;
      background: var(--bg-card);
      border-top: 1px solid var(--border);
      display: flex;
      justify-content: space-around;
      padding: 8px 0;
      z-index: 20;
    }

    .nav-item {
      text-align: center;
      flex: 1;
      color: var(--text-secondary);
      cursor: pointer;
      font-size: 0.8rem;
      transition: color 0.3s;
    }

    .nav-item.active { color: var(--accent); font-weight: 600; }
    .nav-item i { display: block; font-size: 1.3rem; margin-bottom: 4px; }

    .theme-toggle {
      border: none;
      background: var(--bg-card);
      color: var(--text-secondary);
      border-radius: 50%;
      width: 36px;
      height: 36px;
      cursor: pointer;
      font-size: 1.2rem;
    }

    ::-webkit-scrollbar { width: 0; }
  </style>
</head>
<body>
  <header>
    <span>demBlog</span>
    <button class="theme-toggle" onclick="toggleTheme()">‚òÄÔ∏è</button>
  </header>

  <main id="main-content">
    <div class="card">
      <h3>Welcome to demBlog</h3>
      <p>Start sharing your thoughts with the world. Write your first post and inspire others!</p>
      <button class="btn" onclick="navigateTo('write')">Create Post</button>
    </div>

    <div class="card">
      <h3>Trending Topics</h3>
      <p>Discover the most popular blogs, news, and stories shared by creators across the platform.</p>
      <button class="btn" onclick="navigateTo('explore')">Explore</button>
    </div>
  </main>

  <nav class="bottom-nav">
    <div class="nav-item active" data-page="home" onclick="navigate(this)"><i>üè†</i>Home</div>
    <div class="nav-item" data-page="explore" onclick="navigate(this)"><i>üîç</i>Explore</div>
    <div class="nav-item" data-page="write" onclick="navigate(this)"><i>üìù</i>Write</div>
    <div class="nav-item" data-page="profile" onclick="navigate(this)"><i>üë§</i>Profile</div>
  </nav>

  <script>
    let quill;

    const pages = {
      home: `
        <div class="card">
          <h3>Welcome to demBlog</h3>
          <p>Start sharing your thoughts with the world. Write your first post and inspire others!</p>
          <button class="btn" onclick="navigateTo('write')">Create Post</button>
        </div>
      `,
      explore: `
        <div class="card"><h3>Explore</h3><p>Discover trending posts and featured blogs from creators around the world.</p></div>
      `,
      write: `
        <div class="card"><h3>Create a New Post</h3><p>Use the RTF editor below to compose your blog post.</p></div>
        <div id="editor-wrapper">
          <div id="toolbar-container"></div>
          <div id="editor-container"></div>
        </div>
        <div class="editor-actions">
          <button class="btn" onclick="saveDraft()">üíæ Save Draft</button>
          <button class="btn" onclick="previewPost()">üëÄ Preview</button>
        </div>
        <div id="preview-container"></div>
      `,
      profile: `
        <div class="card"><h3>Your Profile</h3><p>Manage your profile and see your saved posts.</p></div>
      `
    };

    function navigate(el) {
      document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
      el.classList.add('active');
      const key = el.getAttribute('data-page');
      loadPage(key);
    }

    function navigateTo(key) {
      document.querySelectorAll('.nav-item').forEach(i => {
        i.classList.toggle('active', i.getAttribute('data-page') === key);
      });
      loadPage(key);
    }

    function loadPage(key) {
      const main = document.getElementById('main-content');
      main.style.opacity = 0;
      setTimeout(() => {
        main.innerHTML = pages[key];
        main.style.opacity = 1;
        if (key === 'write') initQuill();
      }, 150);
    }

    function initQuill() {
      const toolbarOptions = [
        [{ header: [1, 2, false] }],
        ["bold", "italic", "underline", "strike"],
        [{ color: [] }, { background: [] }],
        [{ list: "ordered" }, { list: "bullet" }],
        ["link", "image"],
        ["clean"]
      ];
      quill = new Quill("#editor-container", {
        modules: { toolbar: { container: "#toolbar-container", handlers: {} } },
        theme: "snow",
        placeholder: "Start writing your story here...",
      });
      const saved = localStorage.getItem("demblog_draft");
      if (saved) quill.root.innerHTML = saved;
    }

    function saveDraft() {
      if (!quill) return;
      localStorage.setItem("demblog_draft", quill.root.innerHTML);
      alert("‚úÖ Draft saved locally!");
    }

    function previewPost() {
      if (!quill) return;
      const preview = document.getElementById("preview-container");
      preview.innerHTML = quill.root.innerHTML;
      preview.style.display = "block";
      preview.scrollIntoView({ behavior: "smooth" });
    }

    function toggleTheme() {
      document.body.classList.toggle("light");
      const btn = document.querySelector(".theme-toggle");
      btn.textContent = document.body.classList.contains("light") ? "üåô" : "‚òÄÔ∏è";
    }
  </script>
</body>
</html>
